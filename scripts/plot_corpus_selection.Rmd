---
title: "R Notebook"
output: html_notebook
---

```{r}
rm(list = ls())

Sys.setenv(LANG = "en")
library(xlsx)
library(readr)
library(readxl)
library(tidyverse)
library(stringr)
library(stringi)
library(gghighlight)
library(countrycode)
library(countries)
library(janitor)
library(sf)

library(janitor)
library(sf)
library(ggthemes)
library(here)
library(viridis)
library(ggplot2)
library(formatR)
library(gtools)
library(nnet) 
library(patchwork)
library(ggh4x)

# Packages for the regression. Move to different script.
#install.packages("plm") # a package of "panel data econometrics in R" (by Croissant and Millo)
#install.packages("lme4") # this is the first multilevel (random effects) package we'll use
library(plm)
library(broom)
library(ggalluvial)

library(pals)
```

# Load data ---------------------------------------------------------------

## Corpus.
```{r}
sc_scores <- read_csv("../aggregated_data/sc_scores.csv") 

sc_scores %>%
    ggplot() + 
    geom_boxplot(aes(x = mig_journal, y = score, color = as.factor(mig_journal))) +
    theme(axis.text.x=element_blank()) +
    facet_wrap(vars(corpus_c_sd1),
               labeller = labeller(corpus_c_sd1 = c("TRUE" = "Included in corpus: \n <= 1SD average score of migration journals", "FALSE" = "Not included in corpus: \n > 1SD average score of migration journals"))) +
  labs(color = "Journal classification",
         x = "",
         y = "Migration relation score") +
  scale_colour_discrete(labels = c("Other journals", "Migration journals")) +
  theme_minimal() +
  theme(axis.title.x=element_blank(),
        axis.text.x=element_blank(),
        axis.ticks.x=element_blank(),
        legend.position = "bottom")

ggsave("../output_figures/figure_s1.png", width = 7, height = 7, dpi = 500, limitsize = F, plot = last_plot())
```







